<!--
  Generated template for the ChatRoomTwoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Back to chat</ion-title>
    <button ion-button="bar-button" ion-button  icon-only (click)="goChatDetail()" class="back-button disable-hover bar-button bar-button-md back-button-md bar-button-default bar-button-default-md show-back-button">
      <ion-icon name="people"></ion-icon>
    </button>
  </ion-navbar>

</ion-header>


<ion-content padding (click)="clearKind($event)" scrollDownOnLoad="true">
  <ng-template #alertContainer></ng-template>
</ion-content>
<ion-footer style="background-color: #fff">
  <ion-toolbar class="inputConBox" (click)="clearKind($event)">
    <!--[(ngModel)]="sendCon"-->
    <ion-input type="text" placeholder="Began to chat" [(ngModel)]="sendCon" (keyup)="checkConOrSend($event)"></ion-input>
    <ion-buttons end (click)="sendMessage()">
      <button ion-button icon-right id="sendBtn">
        <ion-icon name="send"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
  <div>
    <ion-segment [(ngModel)]="kind" style="border-bottom: 1px solid #ccc">
      <ion-segment-button value="mic" class="click" (click)="go($event)">
        <ion-icon name="ios-mic-outline"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="image" (click)="getPicture()">
        <ion-icon name="ios-image-outline"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="camera" (click)="getCamera()">
        <ion-icon name="ios-camera-outline"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="emoji" (click)="go()">
        <!--(click)="toggled = !toggled" [(emojiPickerIf)]="toggled" [emojiPickerDirection]="'bottom'"-->
        <!--(emojiPickerSelect)="handleSelection($event)"-->
        <ion-icon name="ios-happy-outline"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </div>
  <div [ngSwitch]="kind">
    <ion-list *ngSwitchCase="'mic'">
      <record (onRecord)="onRecord($event)" ></record>
    </ion-list>
    <!--<ion-list *ngSwitchCase="'image'">-->
      <!--<ion-item>-->
        <!--<ion-thumbnail item-start>-->
          <!--<img src="assets/imgs/stantz.jpg">-->
        <!--</ion-thumbnail>-->
        <!--<h2>Luna</h2>-->
      <!--</ion-item>-->
    <!--</ion-list>-->
    <ion-list *ngSwitchCase="'emoji'">
      <emoji-picker [(ngModel)]="sendCon"></emoji-picker>
    </ion-list>
  </div>
</ion-footer>
